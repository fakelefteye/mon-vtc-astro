---
import Layout from '@/layouts/Layout.astro';
---
<Layout title="Contáctanos">
    <h1>Contáctanos</h1>
    <p>Para cualquier solicitud específica o un presupuesto personalizado, no dudes en ponerte en contacto. ¡Respondemos rápidamente!</p>
    
    <ul>
        <li>
            <strong>Teléfono:</strong> 📞 
            <span id="secure-phone-link">Por favor, activa JavaScript para ver el número.</span>
        </li>
        
        <li>
            <strong>WhatsApp:</strong> 🟢 
            <span id="secure-whatsapp-link">Por favor, activa JavaScript para chatear.</span>
        </li>
        
        <li>
            <strong>Email:</strong> 📧 
            <span id="secure-email-link">Por favor, activa JavaScript para ver la dirección.</span>
        </li>
    </ul>

    <script>
        // --- DATOS BASE (Número corregido: 661691178) ---
        var phone_num = "661691178"; 
        var phone_display = "06 61 69 11 78"; // Número formateado para mostrar
        var country_code = "+33"; 

        // --- 1. SEGURIDAD TELÉFONO (Llamada clásica) ---
        var tel_prefix = "tel:" + country_code;
        
        // Crear el enlace
        var phone_link = document.createElement('a');
        phone_link.href = tel_prefix + phone_num;
        phone_link.textContent = phone_display;
        
        // Insertar en la página
        var phone_container = document.getElementById('secure-phone-link');
        if (phone_container) {
            phone_container.textContent = ''; 
            phone_container.appendChild(phone_link);
        }

        // --- 2. SEGURIDAD WHATSAPP ---
        // Enlace WhatsApp: https://wa.me/fullnumber (sin el signo +)
        var whatsapp_link_url = "https://wa.me/" + country_code.replace('+', '') + phone_num;

        // Crear el enlace
        var whatsapp_link = document.createElement('a');
        whatsapp_link.href = whatsapp_link_url;
        whatsapp_link.textContent = "Iniciar chat";
        whatsapp_link.target = "_blank"; // Abrir en nueva pestaña
        
        // Insertar en la página
        var whatsapp_container = document.getElementById('secure-whatsapp-link');
        if (whatsapp_container) {
            whatsapp_container.textContent = ''; 
            whatsapp_container.appendChild(whatsapp_link);
        }
        
        // --- 3. SEGURIDAD EMAIL ---
        var part1 = "bill";
        var part2 = "shipcars";
        var part3 = "gmail.com";
        var mailto_prefix = "mailto:";
        
        // Reconstruir la dirección completa
        var fullAddress = part1 + "." + part2 + "@" + part3;
        var fullLink = mailto_prefix + fullAddress;
        
        // Crear el enlace
        var email_link = document.createElement('a');
        email_link.href = fullLink;
        email_link.textContent = fullAddress;
        
        // Insertar en la página
        var email_container = document.getElementById('secure-email-link');
        if (email_container) {
            email_container.textContent = ''; 
            email_container.appendChild(email_link);
        }
    </script>
</Layout>